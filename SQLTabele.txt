CREATE TABLE PREDMET
(
	Sifra NUMBER PRIMARY KEY,
	ImePredmeta VARCHAR(64),
	Semestar NUMBER(2) NOT NULL,
	Katedra VARCHAR(64)
);
CREATE TABLE PREDMET_NASTAVNICI
(
	ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	SifraPredmeta NUMBER(15),
    CONSTRAINT predmet_fk FOREIGN KEY (SifraPredmeta) REFERENCES PREDMET(Sifra),
	Nastavnik VARCHAR(64) NOT NULL
);
CREATE TABLE IZVESTAJI
(
	ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	BrojIzvestaja NUMBER(10) NOT NULL
);

CREATE TABLE IZVESTAJ 
( 
	ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY, 
	GrupaI NUMBER,
	CONSTRAINT grupa_fk FOREIGN KEY (GrupaI) REFERENCES IZVESTAJI(ID), 
	Sadrzaj VARCHAR(64) NOT NULL, 
	Odnos VARCHAR(64) NOT NULL 
);

CREATE TABLE PROJEKAT
(
	Identifikator NUMBER PRIMARY KEY,
	ImeProjekta VARCHAR(64) NOT NULL,
	Pocetak DATE NOT NULL,
	Sifra NUMBER,
	CONSTRAINT sifraP_fk FOREIGN KEY (Sifra) REFERENCES PREDMET(Sifra)
);


CREATE TABLE POJEDINACNI
(
	Identifikator NUMBER PRIMARY KEY,
	CONSTRAINT indentifikatorProjekta_fk FOREIGN KEY (Identifikator) REFERENCES PROJEKAT(Identifikator)
);


CREATE TABLE GRUPNI
(
	Identifikator NUMBER PRIMARY KEY,
	CONSTRAINT indentifikatorProjektaG_fk FOREIGN KEY (Identifikator) REFERENCES PROJEKAT(Identifikator)
);



CREATE TABLE PRAKTICNI_POJEDINACNI
(
	ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	Identifikator NUMBER UNIQUE,
	KratakOpis VARCHAR(64) NOT NULL,
	PreporuceniJezik VARCHAR(64) NOT NULL,
	GrupaIzvestaja NUMBER,
	CONSTRAINT indProjPoj_fk FOREIGN KEY (Identifikator) REFERENCES POJEDINACNI(Identifikator),
    CONSTRAINT grupaizvestaja_fk FOREIGN KEY (GrupaIzvestaja) REFERENCES IZVESTAJI(ID)
);


CREATE TABLE PRAKTICNI_POJEDIN_SPISAKWEB
(
	ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    Identifikator NUMBER,
	CONSTRAINT projP_fk FOREIGN KEY (Identifikator) REFERENCES PRAKTICNI_POJEDINACNI(Identifikator),
	WebStranica VARCHAR(64) NOT NULL
	
);

CREATE TABLE PRAKTICNI_GRUPNI
(
	ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	Identifikator NUMBER UNIQUE,
	KratakOpis VARCHAR(64) NOT NULL,
	PreporuceniJezik VARCHAR(64) NOT NULL,
	GrupaIzvestaja NUMBER,
	CONSTRAINT indProjG_fk FOREIGN KEY (Identifikator) REFERENCES GRUPNI(Identifikator),
    CONSTRAINT grupaizvestajaG_fk FOREIGN KEY (GrupaIzvestaja) REFERENCES IZVESTAJI(ID)

);


CREATE TABLE PRAKTICNI_GRUPNI_SPISAKWEB
(
	ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    Identifikator NUMBER,
	CONSTRAINT projG_fk FOREIGN KEY (Identifikator) REFERENCES PRAKTICNI_GRUPNI(Identifikator),
	WebStranica VARCHAR(64) NOT NULL
	
);

CREATE TABLE TEORIJSKI_POJEDINACNI
(
	ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	Identifikator NUMBER UNIQUE,
	CONSTRAINT teoP_fk FOREIGN KEY (Identifikator) REFERENCES POJEDINACNI(Identifikator),
	MaxbrojStranica INT NOT NULL
	

);


CREATE TABLE TEORIJSKI_GRUPNI
(
	ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	Identifikator NUMBER UNIQUE,
	CONSTRAINT teoG_fk FOREIGN KEY (Identifikator) REFERENCES GRUPNI(Identifikator),
	MaxbrojStranica INT NOT NULL
	

);



CREATE TABLE LITERATURA
(
	IDL NUMBER  GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	IDM NUMBER 
	
);

CREATE TABLE KORISTIPOJ
(
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    Teor NUMBER NOT NULL,
	CONSTRAINT teorPoj FOREIGN KEY (Teor) REFERENCES TEORIJSKI_POJEDINACNI(Identifikator),
    Literatura NUMBER NOT NULL,
	CONSTRAINT Lit_fk FOREIGN KEY (Literatura) REFERENCES LITERATURA(IDL)


)

CREATE TABLE KORISTIGRUP
(
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    Teor NUMBER NOT NULL,
	CONSTRAINT teorG FOREIGN KEY (Teor) REFERENCES TEORIJSKI_GRUPNI(Identifikator),
    Literatura NUMBER NOT NULL,
	CONSTRAINT LitG_fk FOREIGN KEY (Literatura) REFERENCES LITERATURA(IDL)


)


CREATE TABLE AUTOR
(
	ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	Ime_Prezime VARCHAR(64) NOT NULL
	Literature NUMBER NOT NULL,
    CONSTRAINT litA_fk FOREIGN KEY (Literature) REFERENCES LITERATURA(IDL)
);


CREATE TABLE RADOVI
(
	ID NUMBER PRIMARY KEY,
	CONSTRAINT litR_fk FOREIGN KEY (ID) REFERENCES LITERATURA(IDL),
	Naziv VARCHAR(64) NOT NULL,
	Konferencija VARCHAR(64) NOT NULL,
	Adresa VARCHAR(64) NOT NULL,
	Formatt VARCHAR(64) NOT NULL
	
);

CREATE TABLE CLANCI
(
	ID NUMBER  PRIMARY KEY,
	CONSTRAINT litC_fk FOREIGN KEY (ID) REFERENCES LITERATURA(IDL),
	Naziv VARCHAR(64) NOT NULL,
	Broj INT NOT NULL,
	Godina INT NOT NULL,
	ISSN INT NOT NULL
	

);

CREATE TABLE KNJIGA
(
	ID NUMBER  PRIMARY KEY,
	CONSTRAINT litK_fk FOREIGN KEY (ID) REFERENCES LITERATURA(IDL),
	Naziv VARCHAR(64) NOT NULL,
	Izdavac VARCHAR(64) NOT NULL,
	ISBN INT NOT NULL,
	GodinaIzdanja INT NOT NULL
	
);




CREATE TABLE STUDENT
(
	Indeks INT PRIMARY KEY,
	Ime VARCHAR(64) NOT NULL,
	ImeRoditelja VARCHAR(64) NOT NULL,
	Prezime VARCHAR(64) NOT NULL,
	Smer VARCHAR(64) NOT NULL

);




CREATE TABLE UZEO_PROJEKAT
(
	
	DatumIzabira DATE  NOT NULL,
	Rok DATE  NOT NULL,
	DatumZavrsetka DATE  NULL,
    IDProj NUMBER,
	Indeks NUMBER,
	CONSTRAINT idProj_fk FOREIGN KEY (IDProj) REFERENCES PROJEKAT(Identifikator),
	CONSTRAINT student_fk FOREIGN KEY (Indeks) REFERENCES STUDENT(Indeks),
    CONSTRAINT composite PRIMARY KEY(Indeks,IDProj)
	
	
	
);



CREATE TABLE UZEOPP
(
	Identifikator NUMBER NOT NULL,
	CONSTRAINT ppFK FOREIGN KEY (Identifikator) REFERENCES PRAKTICNI_POJEDINACNI(Identifikator),
	ProgramskiJezik VARCHAR(64) NOT NULL,
	Izvestaj VARCHAR(64) NULL,
	Datum DATE  NULL,
	UzeoP NUMBER,
    CONSTRAINT uzeoP_pk PRIMARY KEY(UzeoP)

);

CREATE TABLE UZEOPG
(
	Identifikator NUMBER NOT NULL,
	CONSTRAINT pgFK FOREIGN KEY (Identifikator) REFERENCES PRAKTICNI_GRUPNI(Identifikator),
	ProgramskiJezik VARCHAR(64) NOT NULL,
	Izvestaj VARCHAR(64) NULL,
	Datum DATE  NULL,
	UzeoP NUMBER,
    CONSTRAINT uzeoG_pk PRIMARY KEY(UzeoP)

);